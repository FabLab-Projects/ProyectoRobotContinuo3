# Continuous Exploration Robot Design Based on EMG Signals
## Introduction
Today, the search for innovation in robotics is a pressing topic. Every day, new models and techniques are developed and researched to create the robots of the future. One of the most promising areas is Human-Computer Interfaces (HCI), which includes brain-computer interfaces (BCI), voice interfaces, gesture-based interfaces, and more. This project focuses on developing a flexible robot, created using 3D printing (PLA), silicone molds, and nylon threads. The robot is equipped with a camera end-effector and is controlled by electromyography (EMG) signals, which correspond to the electrical signals present in human muscles.

## Materials and Design
The robot has an elongated cylindrical shape, consisting of intercalated discs: 10 solid PLA discs, 11 silicone discs, and 3 PLA node discs. The silicone and PLA discs simulate a kind of vertebral column, providing significant flexibility to the arm, while the node discs are used to secure the nylon threads that apply tension to tilt/move the robot in the desired direction. The robot also includes six continuous rotation servomotors, six pulleys, and a base to support the structure.

## Mechanical Operation
The robot's movement depends on the control signal from the Arduino, which controls the servomotors that drive the pulleys. These pulleys, in turn, tighten the threads attached to the nodes, thereby tilting the robot. A significant part of the robot's workspace is determined by the nodes, as they are positioned at different heights, referred to as “levels.” The first level is closest to the robot’s base and allows smaller tilts, while levels 2 (mid-height) and 3 (near the end-effector) enable sharper inclinations.

For more details on the design and creation, visit the following link: https://github.com/Erj5/Continuum-Robot/tree/main

## Circuit
The circuit uses EMG (Electromyography) sensors and servomotors controlled by an Arduino UNO, as follows:

1. EMG Sensors:
There are four connected EMG sensors.
The EMG sensors capture muscle signals, which are then sent to the Arduino’s analog inputs.
Each EMG sensor has three pins: Vcc, GND, and Analog Out.
Vcc is connected to the Arduino’s +5V to power the sensors.
GND is connected to the Arduino’s ground (GND).
Analog Out from each sensor is connected to analog pins A0, A1, A2, and A3 on the Arduino. These pins read the analog signals generated by muscle activity.
2. Servomotors:
There are six servomotors labeled M1 to M6 in the diagram.
These servomotors control the three levels:
Level 1: Motors M3 and M4.
Level 2: Motors M1 and M2.
Level 3: Motors M6 and M5.
The PWM signal pins of the servomotors are connected to specific digital pins on the Arduino:
* M1 -> D5
* M2 -> D3
* M3 -> D9
* M4 -> D6
* M5 -> D10
* M6 -> D11
Each servomotor also has a power pin connected to +5V and a ground pin connected to GND.
3. Power Supply:
The entire circuit is powered by the 5V output of the Arduino, which supplies power to both the EMG sensors and the servomotors.
## Code
Libraries and Pin Definitions:
The code uses the <Servo.h> library, which makes it easy to control servomotors.
Servomotors 3 and 4 control the robot’s level 1, servomotors 1 and 2 control level 2, and servomotors 5 and 6 control level 3.
1. Global Variables:
Global variables such as pot, pot2, pot3, and pot4 store the EMG sensor readings in each iteration.
Variables like velH and velV control the speed (position) of the servos.
There are also state variables (modoH and modoV) to manage the motor movement modes.
2. Setup:
Initializes serial communication and configures the input pins for the EMG sensors.
Connects each Servo object to its respective pin on the Arduino.
Sets initial values for mode variables and timers.
3. Main Loop:
In the loop, the EMG sensor inputs (pot, pot2, pot3, pot4) are read, and the analog values are stored in each corresponding variable.
Then, horizontal and vertical movements of the servomotors are managed according to the sensor readings.
4. Horizontal Movement:
Every second (based on contH), it checks the readings of pot and pot2 to determine if it should move the servos horizontally.
If pot or pot2 exceed certain values (330 and 380, respectively) that correspond to the thresholds, it changes modoH to indicate that horizontal movement should be activated.
Based on the value of modoH, it sets the servo speed (velH) to 80 or 110 degrees.
When pot or pot2 fall below these thresholds, the system stops the horizontal movement by restoring modoH to 0 and velH to 90 (neutral position).
5. Vertical Movement:
Similar to horizontal movement, vertical movement occurs every second (based on contV), depending on the readings of pot3 and pot4.
It uses modoV to activate movement and controls the vertical servo angle (velV) to 80 or 110 degrees.
If pot3 or pot4 fall below the thresholds, it restores modoV to 0 and velV to 90.
6. Data Printing:
Every millisecond, the code prints the sensor values to the serial port to monitor EMG signals in real time. This is also useful for visualizing the signals in the Python interface with PyQt5.
## Control
The control is based on analog measurement of electrical signals using four “Analog EMG Sensors by OYMotion” from “Gravity,” which are dry electromyography sensors. The signal originates from the forearm muscles (anterior and posterior parts) as shown in the figure. The signal changes according to muscle contractions; in this case, if the signal exceeds certain thresholds, it changes the movement state (see state machine figure). The state control depends on the arm action: the left arm controls the vertical movement of the robot (forward or backward), while the right arm controls horizontal movement (left or right). The front part of each arm controls left and forward movements in the right and left arms, respectively, while the rear part of the arms controls right and backward movements. For this version, and given that only four EMG sensors are available, only one robot level can be controlled, ideally level 2 since it is the most versatile.

![State machine Right arm](ProyectoRobotContinuo3/Images/State machine Horizontal.jpg)
## Conclusion
The EMG-based control designed for the continuous robot was successfully implemented, allowing the robot to be controlled in two directional axes with acceptable, though not optimal, control. However, there are limitations. One is that the thresholds are very specific, as they correspond to a particular individual, and these thresholds may not apply to other users due to differences in skin impedance. Another drawback is that, with only four sensors, controlling other levels was not possible, so the robot’s potential workspace was not fully utilized.
